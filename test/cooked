#!/bin/sh

cat <<EOF > co-in.$$
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
<\\x00>;
EOF

./idsgrep '(anything)' co-in.$$ > co-out.$$
echo === >> co-out.$$

./idsgrep -c raw '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c rawnc '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c rawnc '(anything)' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c cooked '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c ascii '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c indent '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c 220000803250 '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c 22000083 '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep --color=always -c 000000013700 '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

perl -e 'print "(".(chr(0)x500).")\n"' | ./idsgrep -c cooked '?' >> co-out.$$
echo === >> co-out.$$

if perl -pe 's/_/\x00/g;s/NWL//g;' <<EOF | diff -c -a co-out.$$ -
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
<\\x00>;
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
<\\x00>;
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
<\\x00>;
===
(anything)
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)
ã€èŒã€‘â¿±è‰¹<æ˜>â¿°æ—¥æœˆ
ã€èŒã€‘â¿±è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.;
?
(	
)
ã€_ã€‘;
===
<\\X840C\\X3048>,<\\X840C>[tb]\\X8279<\\X660E>[lr]\\X65E5\\X6708,\\X3048
   ([\\X3082\\X3048] (n\\)\\n  (1\\) sprouting/budding/\\n  (2\\) (m-sl\\) (also written \\X840C\\X3091\\) crush (anime, manga term\\)/fascination/infatuation\\n)
<\\X840C>[tb]\\X8279<\\X660E>[lr]\\X65E5\\X6708
<\\X840C>[tb]\\X8279<\\X660E>[lr]<\\X65E5>[overlap]\\X53E3(+1)\\X6708
()\\\\)
(()
.\\xE1\\XE001\\x{1F4A9}\\x{10FFFD}.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
<\\x00>;
===
ã€èŒãˆã€‘,
  <èŒ>â¿±
    è‰¹
    <æ˜>â¿°
      æ—¥
      æœˆ
  ,
    ãˆ
    ([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)

ã€èŒã€‘â¿±
  è‰¹
  <æ˜>â¿°
    æ—¥
    æœˆ

ã€èŒã€‘â¿±
  è‰¹
  <æ˜>â¿°
    <æ—¥>â¿»
      å£
      (+1)
    æœˆ

()\\\\)

(()

.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.
  ;

?

(	
)

ã€_ã€‘;

===
ã€–èŒãˆã€—,
	ã€–èŒã€—â¿±
		è‰¹
		ã€–æ˜ã€—â¿°
			æ—¥
			æœˆ
	,
		ãˆ
		([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)_ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		æ—¥
		æœˆ_ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		ã€–æ—¥ã€—â¿»
			å£
			(+1)
		æœˆ_()\\\\)_(()_.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.
	;_?_(	
)_ã€–_ã€—;_===
ã€–èŒãˆã€—,
	ã€–èŒã€—â¿±
		è‰¹
		ã€–æ˜ã€—â¿°
			æ—¥
			æœˆ
	,
		ãˆ
		([ã‚‚ãˆ] (n\)
  (1\) sprouting/budding/
  (2\) (m-sl\) (also written èŒã‚‘\) crush (anime, manga term\)/fascination/infatuation
)ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		æ—¥
		æœˆã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		ã€–æ—¥ã€—â¿»
			å£
			(+1)
		æœˆ()\\\\)(().Ã¡\XE001\x{1F4A9}\x{10FFFD}.
	;?(	
)ã€–_ã€—;===
[0;37m<\èŒ\ãˆ>[1;36m,[0;37m<\èŒ>[1;36mâ¿±[1;37m\è‰¹[0;37m<\æ˜>[1;36mâ¿°[1;37m\æ—¥[1;37m\æœˆ[1;36m,[1;37m\ãˆ[0;32m(\[\ã‚‚\ãˆ\]\ \(n\)\NWL
\ \ \(\1\)\ sprouting\/budding\/\NWL
\ \ \(\2\)\ \(m\-sl\)\ \(also\ written\ \èŒ\ã‚‘\)\ crush\ \(anime\,\ manga\ term\)\/fascination\/infatuation\NWL
)
[0;37m<\èŒ>[1;36mâ¿±[1;37m\è‰¹[0;37m<\æ˜>[1;36mâ¿°[1;37m\æ—¥[1;37m\æœˆ
[0;37m<\èŒ>[1;36mâ¿±[1;37m\è‰¹[0;37m<\æ˜>[1;36mâ¿°[0;37m<\æ—¥>[1;36mâ¿»[1;37m\å£[0;32m(\+\1)[1;37m\æœˆ
[0;32m(\)\\\\)
[0;32m(\()
[0;35m.\Ã¡\î€\ğŸ’©\ô¿½.[1;32m;
[1;32m?
[0;32m(\\\\\	\NWL
\\\)
[0;37m<\_>[1;32m;
===
(____________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________)
===
EOF
then
  rm -f co-in.$$
  rm -f co-out.$$
  exit 0
else
  rm -f co-in.$$
  rm -f co-out.$$
  exit 1
fi
